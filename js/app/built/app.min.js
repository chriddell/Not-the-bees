"use strict";function showKeyPanel(a){var b=a,c="#large-"+b.id;$("#honeycomb-key-panels").addClass("honeycomb-key-panels--active").find(c).css({visibility:"visible"})}function hideKeyPanel(a){var b=a;$(b).parents(".honeycomb__key-panel--large").css({visibility:"hidden"}).parents("#honeycomb-key-panels").removeClass("honeycomb-key-panels--active")}function resetApp(){currentSection=2,DOMGetsTheClass()}function DOMGetsTheClass(){$("body").alterClass(usefulClassName+"-*",usefulClassName+"-"+currentSection+"-active")}function preventBounceiOS(){var a,b=0;document.addEventListener("touchstart",function(c){a=c.touches[0].screenX,b=c.touches[0].screenY}),document.addEventListener("touchmove",function(c){var d=Math.abs(c.touches[0].screenX-a),e=Math.abs(c.touches[0].screenY-b);3*e>d&&c.preventDefault()})}function scrollProgressOnTouch(){$("body").on("swipeup",function(){$("body").hasClass("no-scroll")||currentSection<totalSections&&(currentSection++,DOMGetsTheClass())}),$("body").on("swipedown",function(){$("body").hasClass("no-scroll")||currentSection>1&&(currentSection--,DOMGetsTheClass())})}function showOverlay(a){var b=$(a).data("overlay"),c=$("body").find('.overlay[data-overlay="'+b+'"]');c.removeClass("overlay--hidden"),$("body").addClass(noScrollClass)}function closeOverlay(a){$(a).parents(".overlay").addClass("overlay--hidden")}function detectKey(a){a=a||window.event,(37===a.keyCode||38===a.keyCode)&&currentSection>1?(currentSection--,DOMGetsTheClass()):(39===a.keyCode||40===a.keyCode)&&currentSection<totalSections&&(currentSection++,DOMGetsTheClass())}function showUserInstruction(a){function b(){$(d).addClass(e),$("body").addClass(noScrollClass),$(document).on("animationend webkitAnimationEnd oanimationend MSAnimationEnd",d,function(){c()})}function c(){$(d).removeClass(e),$("body").removeClass(noScrollClass)}var d=a,e="ani--show-user-instruction";$(d).hasClass(e)||$("body").hasClass(noScrollClass)||_.throttle(b(),500)}function showUserAResponse(a){"success"===a.toLowerCase()?(console.log(a),$(".form--share-url__container").addClass("form--submitted")):(console.error(a),$(".form--share-url__container").addClass("form--failed"))}function showForm(a){$(a).parents(".form__container").removeClass("form--submitted"),$(a)[0].reset()}function resetForm(a){$(a)[0].reset()}var currentSection=1,totalSections=8,noScrollClass="no-scroll",usefulClassName="step",isScroll=function(){return!!$("body").hasClass(noScrollClass)};$.fn.alterClass=function(a,b){var c=this;if(a.indexOf("*")===-1)return c.removeClass(a),b?c.addClass(b):c;var d=new RegExp("\\s"+a.replace(/\*/g,"[A-Za-z0-9-_]+").split(" ").join("\\s|\\s")+"\\s","g");return c.each(function(a,b){for(var c=" "+b.className+" ";d.test(c);)c=c.replace(d," ");b.className=$.trim(c)}),b?c.addClass(b):c},$(document).ready(function(){$(document).on("keydown",detectKey),$(document).on("click",".go-to-next-step",function(){currentSection++,DOMGetsTheClass()}),$(document).on("DOMMouseScroll mousewheel MozMousePixelScroll scroll",function(){_.throttle(showUserInstruction(".user-instruction--modal--header"),500)}),$("html").hasClass("touchevents")&&(scrollProgressOnTouch(),preventBounceiOS()),$(document).on("click",".honeycomb__key-panel",function(){$("body").hasClass("step-7-active")&&(showKeyPanel(this),$("body").addClass("no-scroll"))}),$(document).on("click",".honeycomb__key-panel--large__close",function(){hideKeyPanel(this),$("body").removeClass("no-scroll")}),$(document).on("click",".overlay__open",function(){showOverlay(this)}),$(document).on("click",".overlay__close, .overlay__bg",function(){closeOverlay(this)}),$(document).on("click","#reset-app",function(){1!==currentSection&&resetApp()}),$(document).on("click","#plant-seed, #scroll-start, .service-group__item",function(){currentSection++,DOMGetsTheClass()}),(/MSIE 10/i.test(navigator.userAgent)||/MSIE 9/i.test(navigator.userAgent)||/rv:11.0/i.test(navigator.userAgent)||/Edge\/\d./i.test(navigator.userAgent))&&$("html").addClass("is-not-a-good-browser")}),$("#forward-to-colleague-form").submit(function(a){a.preventDefault();var b="process/submit.php";$.get({type:"GET",url:b,data:$(this).serialize()+"&submit=true"}).done(function(a){showUserAResponse(a)}).fail(function(a){showUserAResponse(a)})}),$(document).on("click",".form--share-url__container .show-form",function(){showForm("#forward-to-colleague-form")}),$(document).on("click",".form--share-url__container .close__overlay",function(){resetForm("#forward-to-colleague-form")});
//# sourceMappingURL=app.min.js.map