"use strict";function resetApp(){currentSection=2,DOMGetsTheClass()}function DOMGetsTheClass(){$("body").alterClass(usefulClassName+"-*",usefulClassName+"-"+currentSection+"-active")}function preventBounceiOS(){var a,b=0;document.addEventListener("touchstart",function(c){a=c.touches[0].screenX,b=c.touches[0].screenY}),document.addEventListener("touchmove",function(c){var d=Math.abs(c.touches[0].screenX-a),e=Math.abs(c.touches[0].screenY-b);3*e>d&&c.preventDefault()})}function scrollProgressOnTouch(){function a(){if(!$("body").hasClass("no-scroll")){if(!(currentSection<totalSections))return!1;currentSection++,DOMGetsTheClass()}}function b(){return!$("body").hasClass("no-scroll")&&void(currentSection>1&&(currentSection--,DOMGetsTheClass()))}$("body").swipe({swipeUp:function(){a()},swipeDown:function(){b()}})}function showOverlay(a){var b=$(a).data("overlay"),c=$("body").find('.overlay[data-overlay="'+b+'"]');c.removeClass("overlay--hidden"),$("body").addClass(noScrollClass)}function closeOverlay(a){$(a).parents(".overlay").addClass("overlay--hidden"),$("body").removeClass(noScrollClass)}function detectKey(a){a=a||window.event,(37===a.keyCode||38===a.keyCode)&&currentSection>1?(currentSection--,DOMGetsTheClass()):(39===a.keyCode||40===a.keyCode)&&currentSection<totalSections&&(currentSection++,DOMGetsTheClass())}function showUserInstruction(a){function b(){$(d).addClass(e),$("body").addClass(noScrollClass),$(document).on("animationend webkitAnimationEnd oanimationend MSAnimationEnd",d,function(){c()})}function c(){$(d).removeClass(e),$("body").removeClass(noScrollClass)}var d=a,e="ani--show-user-instruction";$(d).hasClass(e)||$("body").hasClass(noScrollClass)||_.throttle(b(),500)}function whichFormWasIt(){var a=$(".overlay:not(.overlay--hidden)").data("overlay");return a}function showUserAResponse(a){"success"===a.toLowerCase()?(console.log(a),$(".overlay:not(.overlay--hidden) .form__container").addClass("form--submitted")):(console.error(a),$(".overlay:not(.overlay--hidden) .form__container").addClass("form--failed"))}function showForm(a){$(a).parents(".form__container").removeClass("form--submitted"),$(a)[0].reset(),a.indexOf("mkto")!=-1&&$(a+' button[type="submit"]').removeAttr("disabled").text("Submit")}function resetForm(a){$(a)[0].reset()}var currentSection=1,totalSections=8,noScrollClass="no-scroll",usefulClassName="step",isScroll=function(){return!!$("body").hasClass(noScrollClass)};$.fn.alterClass=function(a,b){var c=this;if(a.indexOf("*")===-1)return c.removeClass(a),b?c.addClass(b):c;var d=new RegExp("\\s"+a.replace(/\*/g,"[A-Za-z0-9-_]+").split(" ").join("\\s|\\s")+"\\s","g");return c.each(function(a,b){for(var c=" "+b.className+" ";d.test(c);)c=c.replace(d," ");b.className=$.trim(c)}),b?c.addClass(b):c},$(document).ready(function(){$("html").hasClass("no-touchevents")&&($(document).on("keydown",detectKey),$(document).on("DOMMouseScroll mousewheel MozMousePixelScroll scroll",function(){_.throttle(showUserInstruction(".user-instruction--modal--header"),500)})),$("html").hasClass("touchevents")&&(scrollProgressOnTouch(),preventBounceiOS()),$(document).on("click",".overlay__open",function(){showOverlay(this)}),$(document).on("click",".overlay__close, .overlay__bg",function(){closeOverlay(this)}),$(document).on("click","#reset-app",function(){1!==currentSection&&resetApp()}),$(document).on("click",".go-to-next-step",function(){currentSection++,DOMGetsTheClass()}),(/MSIE 10/i.test(navigator.userAgent)||/MSIE 9/i.test(navigator.userAgent)||/rv:11.0/i.test(navigator.userAgent)||/Edge\/\d./i.test(navigator.userAgent))&&$("html").addClass("is-not-a-good-browser")}),$("#forward-to-colleague-form").submit(function(a){a.preventDefault();var b="process/submit.php";$.ajax({type:"GET",url:b,data:$(this).serialize()+"&submit=true"}).done(function(a){showUserAResponse(a)}).fail(function(a){showUserAResponse(a)})}),$(document).on("click",".form--share-url__container .show-form",function(){showForm("#forward-to-colleague-form")}),$(document).on("click",".form--marketo__container .show-form",function(){showForm("#mktoForm_1557")}),$(document).on("click",".form--share-url__container .close__overlay",function(){resetForm("#forward-to-colleague-form")}),function(){$('input[name="url"]').val(window.location.protocol+"//"+window.location.host+window.location.pathname)}(),function(){MktoForms2.loadForm("//app-ab17.marketo.com","694-KCV-926",1557,function(a){a.onSuccess(function(){return showUserAResponse("success"),!1})}),MktoForms2.whenRendered(function(a){$(".form--marketo-demo").removeClass("mktoForm"),$(".mktoFormRow").removeClass("mktoFormRow"),$(".mktoButtonRow").removeClass("mktoButtonRow"),$(".mktoOffset, .mktoGutter, .mktoClear").remove(),$(".form--marketo-demo, .form--marketo-demo *").removeAttr("style"),$(".form--marketo-demo input, .form--marketo-demo button, .form--marketo-demo select").addClass("form__input"),$('.form--marketo-demo input[type="text"], .form--marketo-demo input[type="email"]').addClass("form__input--text"),$('.form--marketo-demo button[type="submit"]').addClass("form__input form__input--submit btn btn--submit like-link"),$(".form--marketo-demo select").addClass("form__input--select"),$(".form--marketo-demo label").addClass("form__label").removeClass("mktoLabel"),$(".form--marketo-demo > div:nth-of-type(1), .form--marketo-demo > div:nth-of-type(2)").addClass("form__input__container--half-width")})}();
//# sourceMappingURL=app.min.js.map